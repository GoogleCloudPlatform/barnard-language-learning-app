<form [formGroup]="form" (ngSubmit)="onFormSubmit()">
  <mat-toolbar>
    <button class="close" (click)="onCloseClick($event)"><app-icon icon="close"></app-icon></button>
    <span i18n="@@addWordTitle">Add word</span>
    <button mat-button color="primary" class="submit" type="submit" i18n="@@add">Add</button>
  </mat-toolbar>
  <div class="content">
    <p class="mat-body-1 instructions" i18n="@@addWordInstructions">
      Contribute to the app by adding new words in the endangered language and their translations
    </p>
    <mat-form-field class="text" appearance="outline" [hideRequiredMarker]="true"
      hintLabel="e.g. هتاف للترحيب" i18n-hintLabel="@@nativeScriptHint">
      <mat-label i18n="@@wordInNativeScript">Word in native script</mat-label>
      <input type="text" matInput name="nativeWord" required formControlName="nativeWord" />
      <mat-error *ngIf="form.controls['nativeWord'].hasError('required')" i18n="@@nativeWordRequired"
        >Word in native script is required</mat-error>
    </mat-form-field>
    <mat-form-field class="text" appearance="outline" [hideRequiredMarker]="true"
                    hintLabel="e.g. 'hello'" i18n-hintLabel="@@englishWordHint">
      <mat-label i18n="@@wordInEnglish">Word in English</mat-label>
      <input type="text" matInput name="englishWord" required formControlName="englishWord" />
      <mat-error *ngIf="form.controls['englishWord'].hasError('required')" i18n="@@englishWordRequired"
        >English word is required</mat-error>
    </mat-form-field>
    <mat-form-field class="text" appearance="outline" [hideRequiredMarker]="true"
                    hintLabel="Word in Latin alphabet (e.g. 'marhaba')" i18n-hintLabel="@@transliterationHint">
      <mat-label i18n="@@transliteration">Transliteration (optional)</mat-label>
      <input type="text" matInput name="transliteration" formControlName="transliteration" />
    </mat-form-field>
    <div class="record">
      <label class="mat-body-1" i18n="@@recordPronunciation">Record pronunciation</label>
      <button class="start" *ngIf="recordingState === recordingStateValues.Idle
        || recordingState === recordingStateValues.Finished" (click)="onStartRecordingClick()">
        <app-icon icon="record_audio" color="primary"></app-icon></button>
      <button class="stop" *ngIf="recordingState === recordingStateValues.Recording
        || recordingState === recordingStateValues.Playing" (click)="onStopRecordingClick()">
        <app-icon icon="stop_audio" color="primary"></app-icon>
        <app-progress-border [borderWidth]="2.5" [progress]="audioStreamProgress"></app-progress-border>
      </button>
      <span class="play-container" *ngIf="recordingState === recordingStateValues.Finished">
        <button class="play" (click)="onPlayRecordingClick()">
          <app-icon icon="play_recording" color="primary"></app-icon>
        </button>
        <span i18n="@@saved">Saved</span>
      </span>
    </div>
    <div class="special-chars">
      <span *ngIf="operatingSystem === operatingSystemValues.Android || operatingSystem === operatingSystemValues.iOS" i18n="@@specialCharsInstructions">
        Want to type special characters? Try <a href="{{ gboardUrl }}">GBoard</a> or <a href="{{ keymanUrl }}">Keyman</a>
      </span>
    </div>
  </div>
</form>
